<!doctype html>
<html>
<head>
  <title>
    tic tac toe
    </title>
  <style>
    #board {
      border-collapse: collapse;
      text-align: center;
      font-size: 80px;
    }
    #board td {
      width: 100px;
      height: 100px;
      border: 2px solid black;
    }
    #board td:hover:empty {
      background: #eee;
    }
  </style>
</head>
<body>
  <h1>
    tic tac toe!
    </h1>
  <script>
  //create table element, set id "board", append to doc 
  var board = document.createElement('table');
  board.id = 'board';
  document.body.appendChild(board);
  //listen "click handler" to whole board
  board.addEventListener("click", function(event) {
    //calling play f()
    //event.target = "td" elemt
    play(event.target.x, event.target.y);
  }, false);
  //object to store gamestate-board
  var state = [
    [null, null, null],
    [null, null, null],
    [null, null, null]
  ]
  var next = 'x';
  var play = function(x, y) {
    if (state[y][x]) {
      return;
    }
    state[y][x] = next;
    //toggle between x, O
    next = next === 'x' ? 'o' : 'x';
    render();
  };
  //draws table
  var render = function() {
    board.innerHTML = '';
    var y = 0;
    while (y < 3) {
      //tr= empty row
      var tr = document.createElement('tr');
      //inserts the row into table
      board.appendChild(tr);
      //creates 3 cells inside row, 
      var x = 0;
      while (x < 3) {
        var td = document.createElement('td');
        td.x = x;
        td.y = y;
        if (state[y][x]) {
          td.appendChild(document.createTextNode(state[y][x]));
        }
        tr.appendChild(td);
        x += 1;
      }
      y += 1;
    }
  };
  
  render();
  </script>
</body>
</html>
